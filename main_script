    // VKAntlers loves you!
    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
    var vka_dev = false;

    // –î–µ—Ñ–æ–ª—Ç–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥
    var vka_config_default = {
        // version
        version: "1.2.3",

        // style
        custom_theme: false,
        custom_theme_type: "dark",
        custom_theme_autotoggle: false,
        ctt_end: "8",
        ctt_start: "20",
        custom_theme_icon: false,
        custom_hashtags: false,
        self_custom_hashtags_list: false,
        custom_hashtags_list: "–ø–µ—Ä–≤—ã–π –≤—Ç–æ—Ä–æ–π –∏—Ç–∞–∫–¥–∞–ª–µ–µ",
        custom_back_button: true,
        hide_names: false,
        hide_messages: false,
        hide_photo: false,
        hide_groups: false,
        hide_notify: false,

        // left menu customization
        custom_left_menu: false,
        vka_l_pr: "–ú–æ—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞",
        vka_l_nwsf: "–ù–æ–≤–æ—Å—Ç–∏",
        vka_l_msg: "–ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä",
        vka_l_fr: "–î—Ä—É–∑—å—è",
        vka_l_gr: "–°–æ–æ–±—â–µ—Å—Ç–≤–∞",
        vka_l_ph: "–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏",
        vka_l_aud: "–ú—É–∑—ã–∫–∞",
        vka_l_vid: "–í–∏–¥–µ–æ",

        // text
        msg_changer: false,
        msg_changer_type: "",
        cipher: false,
        cipher_type: "none",
        custom_font: false,
        custom_font_type: "none",
        custom_font_css: "none",
        custom_font_size: "14",

        // patches
        unread: false,
        untype: false,
        unnotify: false,
        offline: false,
        full_offline: false,
        autolikes: false,
        antlers_exploit: false,

        //others
        rainbow_text: false,
        letitsnow: true,
        negative: false,
        sepia: false,
        blury: false,
        blackandwhite: false,

        // development
        vka_devload: false,
        dev_msg: false,

        // testified
        testified: false
    };



    // –ü–æ–¥–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞ —Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
    var vka_config = JSON.parse(localStorage.getItem("vka_config"));
    if (vka_config){
        // –°–æ–æ–±—â–∞–µ—Ç –æ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–Ω—Ñ–∏–≥–∞
        console.log ("Config loaded successfully!");
        //console.log ("Config is: " + JSON.stringify(vka_config)); // –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–µ—Å—å –∫–æ–Ω—Ñ–∏–≥
    } else {
        // –°—Ç–∞–≤–∏—Ç –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥–∞
        console.log('Config not exists! Default config loaded!');
        vka_config = vka_config_default;
        localStorage.setItem("vka_config", JSON.stringify(vka_config));
        // TODO: –£–±—Ä–∞—Ç—å –∫–æ—Å—Ç—ã–ª—å —Å –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π –∏–∑-–∑–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ–Ω—Ñ–∏–≥–∞. –ê –º–æ–∂–µ—Ç –∏ –Ω–µ –Ω–∞–¥–æ?
        // –ü—Ä–∏–∫–æ–ª –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ MutationObserver - –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –∂–¥—ë—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥–∞
        location.reload();
    };

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –≤–µ—Ä—Å–∏–∏
    // TODO: –°–¥–µ–ª–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–∏—à—å –ø—É–Ω–∫—Ç–æ–≤ –∫–æ–Ω—Ñ–∏–≥–∞, –∞ –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω—è—Ç—å –Ω–∞ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π
    // –í—Ä–µ–º–µ–Ω–Ω–æ —É–±—Ä–∞–Ω–æ! –ß—Ç–æ–±—ã —Å–±—Ä–æ—Å—Ç—å –∫–æ–Ω—Ñ–∏–≥–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞
    if(vka_config_default.version > vka_config.version){
        console.log ("Config updated! From verion: " + vka_config.version + " to: " + vka_config_default.version);
//         vka_config = vka_config_default;
        vka_config.version = vka_config_default.version;

         // TODO: –ú–∞–Ω—É–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –∏ –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
        // –£–±—Ä–∞—Ç—å –∫ —á–µ—Ä—Ç—è–º —ç—Ç–æ. –ò —Å–¥–µ–ª–∞—Ç—å —á—Ç–æ-—Ç–æ –Ω–æ–≤–µ–Ω—å–∫–æ–µ, –±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ–µ
        vka_config.letitsnow = true;

        localStorage.setItem("vka_config", JSON.stringify(vka_config));
        // TODO: –£–±—Ä–∞—Ç—å –∫–æ—Å—Ç—ã–ª—å —Å –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π –∏–∑-–∑–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ–Ω—Ñ–∏–≥–∞. –ê –º–æ–∂–µ—Ç –∏ –Ω–µ –Ω–∞–¥–æ?
        // –ü—Ä–∏–∫–æ–ª –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ MutationObserver - –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –∂–¥—ë—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥–∞
        location.reload();
    }

// INDEV - –†–∞–±–æ—Ç–∞ —Å –∫–æ–Ω—Ñ–∏–≥–æ–º, –∞–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∏–Ω–∞–º–∏—á–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
//     if(vka_config_default.version > vka_config.version){
//         for (var i = 0; i < Object.keys(vka_config_default).length; i++){
//             for (var j = 0; j < Object.keys(vka_config).length; j++){
//                 console.log(Object.keys(vka_config_default)[j]);
//             }
//         }
//     }


//     alert('Saved testified is: ' + vka_config.testified);
//     alert('Testified from localstorage is: ' + localStorage.getItem('vka_config').testified);

    // –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ö—ç—à—Ç–µ–≥–æ–≤
    var hashtag_list_default = ["—Ñ–ª–µ–π–º–ª—É—á—à–∏–π", "–∑–∞–¥–æ–Ω–∞—Ç—å", "—Ç–µ–º–Ω–∞—è—Ç—ë–º–∞", "–¥–∞", "–¥–∏—Ä–æ—Ö–µ—Ä–µ–ª", "–∞—á—ë)", "—Å–∏–¥–∏–¥–æ–º–∞–±–ª—ç–¥", "—Ñ—ã–≤–∞–ø—Ä–æ–ª–¥–∂—ç", "missingno",
                                "—Å–∏–∂—É–∞—Ö–µ—Ä–µ–ª", "–¥–∏—Å—Ç–∞–Ω—Ü–∏–æ–Ω–û—á–∫–∞", "—Å–∫–∏–±–∏–¥–∏–≤–∞–ø–∞", "–æ–π–¥–µ–≤–∞—á—å–∫–∏", "–Ω–∞—Å—Ç–∏–ª–µ", "—á–∞–π–≤—Å–µ–º—É–≥–æ–ª–æ–≤–∞", "–º—Ä–∞—Ä—Ñ",
                                "–≥–æ–±—É—Ö–∞—Ç—å", "—Å–∫–∞–∑–æ—á–Ω–æ–µ–±–∞–ª–∏", "–¥–∏—Ä–ª–æ—Ö", "–ª–æ–∂–∫–∞", "300bucks", "—Å—Ç—ã–¥–ø–æ–∑–æ—Ä–Ω—ã–π", "ugotthat", "heybuddy", "—è–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≤—ã–∂–∏–≤—É",
                                "–Ω–µ—á–∏—Ç–∞–ª–û—á–∫–∞", "—Å–ª—ã—à—Ä–∞–±–æ—Ç–∞—Ç—å", "–∫–æ—Ñ–µ–º–∞–Ω–∏—è", "hohol", "(Ôªø Õ°¬∞ Õú ñ Õ°¬∞)", "–∞—Ç–ª–∏—à–Ω–∞", "42", "frozengreyfire", "pocket_deer",
                                "—Ç—ã—É–±–∏–ª–¥—ä—è–≤–æ–ª–∞", "—Ç—ã—É–±–∏–ª–≥–æ–ª—å—Ñ–∏—Å—Ç–∞", "—ç—Ç—É–¥–≤–µ—Ä—Ü—É", "—Ç—â—â—â—â—â–ª–µ–Ω", "—Ö—ç—à—Ç–µ–≥", "–∑–∞—á–µ–º", "–∑–∞—Ç–µ–º", "breakingbed", "–∂–∞–ª—é–∑–∏",
                                "–∫–æ–∫—Å–∞–∫–µ—Ä", "—ç–π–≥–∞—Ä—Ä–∏—Å–æ—Å–∏", "—â–∏—Ç—â–∏—Ç—â–∏—Ç", "slalixuy"];

    // –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –¥–∞
    var logo_hashtag_text;

    // –§—É–Ω–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏–∑ —Å–ø–∏—Å–∫–∞
    function get_rand(mumble){
        return mumble[Math.floor(Math.random() * mumble.length)];
    }

    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> –ó–∞–≥—Ä—É–∑–∫–∞ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é

    // –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–µ–∫—Å—Ç–∞ —Å –ª–µ–≤—ã—Ö —Å–∞–π—Ç–æ–≤
    function vka_getraw(URL_Address){
        var tmp = null;
        window.jQuery.ajax({ type: "GET",
                url: URL_Address,
                async: false,
                success : function(text){
                    tmp = text;
                }
               });
        return tmp;
    };

    // –ó–∞–≥—Ä—É–∑–∫–∞ –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é
    var vkantlers_menu = '<li class="HeaderNav__item deer" style="float: right;padding: 9px;"><a id="vkantlers_toggle" style="font-size: 20px;">ü¶å</a></li>';

    // –ü–æ–¥–≥—Ä—É–∑–∫–∞ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ —Å –≥–∏—Ç–∞, —Å –≤–µ—Ç–∫–∏ master –∏–ª–∏ dev
    var vka_menu;
    var vka_menu_css;
    var night_theme;
    var dark_theme;
    var letitsnow_source;
    var particles = vka_getraw("https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js");
    if (vka_config.vka_devload == true){
        console.log('Developer version loaded!');
        // –ó–∞–≥—Ä—É–∑–∫–∞ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
        vka_menu = vka_getraw("https://raw.githubusercontent.com/Pocket-Deer/VKAntlers/dev/mainmenu.html");
        vka_menu_css = vka_getraw("https://raw.githubusercontent.com/Pocket-Deer/VKAntlers/dev/mainmenu.css");

        // –ó–∞–≥—Ä—É–∑–∫–∞ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
        // –ó–∞–≥—Ä—É–∑–∫–∞ –ª—É–Ω–Ω–æ–π —Ç–µ–º—ã
        // –¢–µ–º–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç kandy (https://userstyles.org/styles/126419/vanilla-dark-2-vk)
        night_theme = vka_getraw('https://raw.githubusercontent.com/Pocket-Deer/VKAntlers/dev/styles/night_style.css');

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã
        dark_theme = vka_getraw('https://raw.githubusercontent.com/Pocket-Deer/VKAntlers/dev/styles/dark_style.css');

        // –≠—Ñ—Ñ–µ–∫—Ç —Å–Ω–µ–∂–∫–∞
        letitsnow_source = vka_getraw('https://raw.githubusercontent.com/Pocket-Deer/VKAntlers/dev/effects/snow.js');

    } else {
        console.log('Standart version loaded!');
        // –ó–∞–≥—Ä—É–∑–∫–∞ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
        vka_menu = vka_getraw("https://raw.githubusercontent.com/Pocket-Deer/VKAntlers/master/mainmenu.html");
        vka_menu_css = vka_getraw("https://raw.githubusercontent.com/Pocket-Deer/VKAntlers/master/mainmenu.css");

        // –ó–∞–≥—Ä—É–∑–∫–∞ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
        // –ó–∞–≥—Ä—É–∑–∫–∞ –ª—É–Ω–Ω–æ–π —Ç–µ–º—ã
        // –¢–µ–º–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç kandy (https://userstyles.org/styles/126419/vanilla-dark-2-vk)
        night_theme = vka_getraw('https://raw.githubusercontent.com/Pocket-Deer/VKAntlers/master/styles/night_style.css');

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç—ë–º–Ω–æ–π —Ç–µ–º—ã
        dark_theme = vka_getraw('https://raw.githubusercontent.com/Pocket-Deer/VKAntlers/master/styles/dark_style.css');

        // –≠—Ñ—Ñ–µ–∫—Ç —Å–Ω–µ–∂–∫–∞
        letitsnow_source = vka_getraw('https://raw.githubusercontent.com/Pocket-Deer/VKAntlers/dev/effects/snow.js');
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–¥–∞ –¥–æ –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ MutationObserver
    var preload = {
        custom_hashtags: function(){
            window.jQuery(".top_home_link.fl_l").append('<div class="vka_hashtags">#' + logo_hashtag_text + "</div>");
            window.jQuery(".top_home_link.fl_l").css({"display":"inline-flex","align-items":"center"});
            window.jQuery(".top_home_logo").css({"margin":"0px 10px 0 0"});
        },
        mainmenu: function(){
            window.jQuery('#top_nav').append(vkantlers_menu);
            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é –≤ –∫–æ–¥ —Å–∞–π—Ç–∞
            window.jQuery("head").after(vka_menu_css);
            window.jQuery('head').after('<script>'+particles+'</script>');
            window.jQuery(".HeaderNav__item.deer").append(vka_menu);
            // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ –º–µ–Ω—é
            vka_loadmenu();
        }
    };

    // –°–∞–º MutationObserver. –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—Å—Ç–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –¥–æ –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    // class target - –ö–ª–∞—Å—Å, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—Å—è func
    function vka_preload_load(class_target, func){
        var vka_observer = new MutationObserver(function(mutations) {
            for (var i=0; i<mutations.length; i++) {
                var mutationAddedNodes = mutations[i].addedNodes;
                for (var j=0; j<mutationAddedNodes.length; j++) {
                    var node = mutationAddedNodes[j];
                    if (node.classList && node.classList.contains(class_target)) {
                        //node.firstElementChild.innerHTML = node.firstElementChild.innerHTML.replace(/[\d.]+/g, function(m) { return 2 * m });
                        func();
                        // –ù–µ –ª–æ–≤–∏—Ç—å –±–æ–ª—å—à–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –ø–æ—Å–∫–æ–ª—å–∫—É –º—ã —Å–¥–µ–ª–∞–ª–∏ —Ç–æ —á—Ç–æ –º—ã —Ö–æ—Ç–µ–ª–∏
                        vka_observer.disconnect();
                        return;
                    }
                }
            }
        });
        vka_observer.observe(document, {childList: true, subtree: true});
    };

    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –≤—ã–∑–æ–≤–∞ –º–µ–Ω—é –∏ —Å–∞–º–æ –º–µ–Ω—é –Ω–∞ —Å–∞–π—Ç –¥–æ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
   vka_preload_load('HeaderNav__item', preload.mainmenu);

    // –§—É–Ω–∫—Ü–∏—è –≤–∫–ª—é—á–µ–Ω–∏—è –º–µ–Ω—é –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∑–Ω–∞—á–æ–∫ –º–µ–Ω—é
    window.jQuery(document).on("click", "#vkantlers_toggle", function(){
        //console.log("Clicked on deer");
        window.jQuery('.vka_parent').toggleClass('vka_parent_display');
    });

    // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –ø—É–Ω–∫—Ç–æ–≤ –º–µ–Ω—é
    window.jQuery(document).on("click", ".vka_section", function() {
        window.jQuery(this).next('.vka_innerBlock').toggleClass('vka_displayBlock');
        window.jQuery(this).find('.vka_arrow').toggleClass('vka_arrow_rotated');
    });

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –º–µ–Ω—é
    window.jQuery(document).mouseup(function(e) {
        var container = window.jQuery('.vka_block');
        if (!container.is(e.target) && container.has(e.target).length === 0 && !window.jQuery('.HeaderNav__item.deer').is(e.target) && window.jQuery('.HeaderNav__item.deer').has(e.target).length === 0)
        {
            window.jQuery('.vka_parent').removeClass('vka_parent_display');
        }
    });

    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å–∞–º–æ–≥–æ –∞–¥–¥–æ–Ω–∞

    // –§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –∫–æ–Ω—Ñ–∏–≥–æ–º
    function vka_config_set(name, value) {
        vka_config[name] = value;
        localStorage.setItem("vka_config", JSON.stringify(vka_config));
    };

    function vka_config_get(name){
        var vkac = JSON.parse(localStorage.getItem("vka_config"));
        return vkac[name];
    }

    // –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∫–Ω–æ–ø–æ–∫ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏
    window.jQuery(".vka_content").ready(function() {
        window.jQuery('input[type="checkbox"], input[type="radio"], button[type="button"]').on("click", function() {
            if (this.type == "checkbox"){
                vka_config_set(this.id, this.checked);
            }
            if (this.type == "radio"){
                vka_config_set(this.name, this.id);
                console.log("Set " + this.name + " with " + this.id)
            }
            if (this.type == "text"){
                vka_config_set(this.id, this.value);
            }
            vka_func(this.id);
        });
        window.jQuery("input[type='text']").keyup(function() {
            vka_config_set(this.id, this.value);
            vka_func(this.id);
        });
        // –ó–∞–≥—Ä—É–∑–∫–∞ –º–µ–Ω—é –ø–æ –∫–æ–Ω—Ñ–∏–≥—É
        //vka_loadmenu();
    });

    // –ó–∞–ø–æ–ª–Ω—è–µ—Ç –º–µ–Ω—é –ø–æ –∫–æ–Ω—Ñ–∏–≥—É
    function vka_loadmenu(){
        // –í—ã—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏
        vka_func('version');
        // –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø–æ–ª–Ω—è–µ–º—ã—Ö –ø—É–Ω–∫—Ç–æ–≤ –º–µ–Ω—é
        window.jQuery(".vka_field, .vka_textarea").each(function(){
            if (this.type == "checkbox"){
                window.jQuery(this).prop("checked", vka_config_get(this.id));
                //console.log('get: ' + this.id + ' and changed to ' + vka_config_get(this.id));
                vka_func(this.id);
            } if (this.type == "text") {
                window.jQuery(this).prop("value", vka_config_get(this.id));
                vka_func(this.id);
            } if (this.type == "radio" && this.id == vka_config_get(this.name)) {
                window.jQuery(this).prop("checked", true);
            }
        });
    }

    function vka_func(func_name){
        switch (func_name){
                // Update version in menu
            case "version":
                if (vka_config.vka_devload == true){
                    window.jQuery('#vka_version').text('v. ' + vka_config_default.version + ' [dev]');
                } else {
                    window.jQuery('#vka_version').text('v. ' + vka_config_default.version);
                }
                break;
                // ---------------------------------------------------- Style
                // TODO: –û–±–Ω–æ–≤–∏—Ç—å –¥–æ –∫–æ–Ω—Ü–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π - –ø–æ —Ä–∞–¥–∏–æ –∫–Ω–æ–ø–∫–∞–º –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç
                // –í—Å—ë –ø–æ—Ç–æ–º—É —á—Ç–æ —Ä–∞–¥–∏–æ –∫–Ω–æ–ø–∫–∏ –ø–æ–ª—É—á–∞—é—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —á–µ–∫–µ–¥ –ø–æ –Ω–∏–∂–Ω–∏–º —Ñ—É–Ω–∫—Ü–∏—è–º
                // theme_type = "dark" –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è –∏ –Ω–µ –∏–≥—Ä–∞–µ—Ç –Ω–∏–∫–∞–∫–æ–π —Ä–æ–ª–∏. –ü–æ—Å–º–æ—Ç—Ä–∏!
            case "theme_type_dark":
            case "theme_type_night":
			case "theme_deleter":
			window.jQuery("#vka_custom_theme").remove();
            /* fallthrough */
            case "custom_theme":
                if (vka_config.custom_theme == true && vka_config.theme_style == "theme_type_dark"){
                    window.jQuery("head").append('<style type="text/css" id="vka_custom_theme" class="vka_darky">' + dark_theme + '</style>');
                } else if (vka_config.custom_theme == true && vka_config.theme_style == "theme_type_night"){
                    window.jQuery("head").append('<style type="text/css" id="vka_custom_theme" class="vka_nighty">' + night_theme + '</style>');
                } else {
                    window.jQuery("#vka_custom_theme").remove();
                };
                break;

            case "custom_theme_autotoggle":
                break;

            case "ctt_end":
                break;

            case "ctt_start":
                break;

            case "custom_theme_icon":
                break;

            case "custom_hashtags":
                if (vka_config.custom_hashtags == true){
                    logo_hashtag_text = get_rand(hashtag_list_default);
                    window.jQuery(".top_home_link.fl_l").after('<div class="vka_hashtags" style="margin: 0px 10px 0px -20px; font-size: 14px;">#' + logo_hashtag_text + "</div>");
                    window.jQuery(".top_home_link.fl_l").css({"display":"inline-flex","align-items":"center","color":"var(--white)"});
                    window.jQuery(".top_home_logo").css({"margin":"0px 10px 0 0"});
                } else {
                    window.jQuery(".vka_hashtags").remove();
                };
                // –ê –≤–æ—Ç —ç—Ç–∞ –≤–µ—â—å –Ω–∏–∂–µ –Ω—É–∂–Ω–∞ —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ, –ª–æ–ª
                // –ò —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç. –°–ø–∞—Å–∏–±–æ JSHint
                // falls through

            case "self_custom_hashtags_list":
                console.log('executed');
                if (vka_config.self_custom_hashtags_list == true){
                    var custom_hashtags_list = vka_config.custom_hashtags_list.split(' ');
                    console.log('1) ' + custom_hashtags_list);
                    custom_hashtags_list = get_rand(custom_hashtags_list);
                    console.log('2) ' + custom_hashtags_list);
                    window.jQuery('.vka_hashtags').text('#' + custom_hashtags_list);
                } else {
                    window.jQuery('.vka_hashtags').text('#' + logo_hashtag_text);
                }
                break;

            case "custom_back_button":
                window.jQuery("body").on('DOMSubtreeModified', '.im-page--title-wrapper', function() {
                    if (vka_config.custom_back_button == true){
                        window.jQuery(".im-page--back").css({"display":"block"});
                        window.jQuery(".im-page--title").css({"align-items":"center", "flex-direction":"column", "padding":"8px 20px 20px 20px"});
                        window.jQuery(".im-page--title-main").css({"overflow":"unset"});
                        window.jQuery(".im-page--title-meta._im_page_peer_online").css({"margin-left":"0"});
                    } else {
                        window.jQuery(".im-page--back").css({"display":"none"});
                        window.jQuery(".im-page--title").css({"align-items":"center", "flex-direction":"none", "padding":"15px 20px"});
                        window.jQuery(".im-page--title-main").css({"overflow":"hidden"});
                        window.jQuery(".im-page--title-meta._im_page_peer_online").css({"margin-left":"8px"});
                    };
                });
                break;

            case "hide_names":
                if (vka_config.hide_names == true){
                    window.jQuery('head').append('<style id="vka_hide_names" type="text/css">.nim-dialog .nim-dialog--name .nim-dialog--name-w{filter: blur(4px) !important} .im-right-menu .im-right-menu--text{filter: blur(4px) !important} .im-page--title-main{filter: blur(4px) !important} .im-mess-stack--lnk{filter: blur(4px) !important} ._im_replied_author_link{filter: blur(4px) !important} .top_profile_vkconnect_name{filter: blur(4px) !important} .top_profile_name{filter: blur(4px) !important} —éim-page-pinned--name{filter: blur(4px) !important} ._im_dialog_typing{filter: blur(4px) !important} ._im_typing_name{filter: blur(4px) !important}</style>');
                } else {
                    window.jQuery('#vka_hide_names').remove();
                };
                break;

            case "hide_messages":
                if (vka_config.hide_messages == true){
                    window.jQuery('head').append('<style id="vka_hide_messages" type="text/css">nim-dialog--inner-text{filter: blur(4px) !important} .nim-dialog--text-preview{filter: blur(4px) !important}</style>');
                } else {
                    window.jQuery('#vka_hide_messages').remove()
                };
                break;

            case "hide_photo":
                if (vka_config.hide_photo == true){
                    //TODO: nim-peer--photo = —É–±–∏—Ä–∞–µ—Ç –ø–æ —Å—É—Ç–∏ –≤–æ–æ–±—â–µ –≤—Å–µ —Ñ–æ—Ç–∫–∏
                    window.jQuery('head').append('<style id="vka_hide_photo" type="text/css">.nim-dialog.nim-dialog_classic .nim-dialog--photo{filter: blur(10px) !important} .im-prebody{filter: brightness(0) !important} .im-mess-stack--photo{filter: blur(10px) !important} .nim-dialog--photo{filter: blur(10px) !important} .top_profile_img{filter: brightness(0) !important} .top_profile_vkconnect_img{filter: brightness(0) !important} .im-page--aside-photo{filter: brightness(0) !important}</style>');
                } else {
                    window.jQuery('#vka_hide_photo').remove()
                };
                break;

            case "hide_groups":
                if (vka_config.hide_groups == true){
                    window.jQuery('head').append('<style id="vka_hide_groups" type="text/css">.l_comm{filter:blur(4px) !important}')
                } else {
                    window.jQuery('#vka_hide_groups').remove();
                }
                break;

            case "hide_notify":
                if (vka_config.hide_notify == true){
                    window.jQuery('head').append('<style id="vka_hide_notify" type="text/css">.notifier_baloon_wrap{filter:blur(4px) !important}')
                } else {
                    window.jQuery('#vka_hide_notify').remove();
                }
                break;
                // ---------------------------------------------------- Text

            case "msg_changer":
                break;

            case "msg_changer_type":
                break;

            case "cipher":
                break;

            case "cipher_type":
                break;

                // Custom left menu
                // TODO: –°–¥–µ–ª–∞—Ç—å —ç—Ç—É —Ö–µ—Ä—å –ø–æ–ø—Ä–æ—â–µ, –Ω–µ –ø–æ–≤—Ç–æ—Ä—è—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ —Ñ—É–Ω–∫—Ü–∏–∏
            case "vka_l_pr":
            case "vka_l_nwsf":
            case "vka_l_msg":
            case "vka_l_fr":
            case "vka_l_gr":
            case "vka_l_ph":
            case "vka_l_aud":
            case "vka_l_vid":
            case "custom_left_menu":
                // TODO: –°–¥–µ–ª–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å —ç–ª–µ–º–µ–Ω—Ç–æ–≤, —á—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å –∫–∞–∫ –±—ã–ª–æ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ
                    if (vka_config.custom_left_menu == true){
                        window.jQuery('#l_pr').find('.left_label.inl_bl').text(vka_config.vka_l_pr);
                        window.jQuery('#l_nwsf').find('.left_label.inl_bl').text(vka_config.vka_l_nwsf);
                        window.jQuery('#l_msg').find('.left_label.inl_bl').text(vka_config.vka_l_msg);
                        window.jQuery('#l_fr').find('.left_label.inl_bl').text(vka_config.vka_l_fr);
                        window.jQuery('#l_gr').find('.left_label.inl_bl').text(vka_config.vka_l_gr);
                        window.jQuery('#l_ph').find('.left_label.inl_bl').text(vka_config.vka_l_ph);
                        window.jQuery('#l_aud').find('.left_label.inl_bl').text(vka_config.vka_l_aud);
                        window.jQuery('#l_vid').find('.left_label.inl_bl').text(vka_config.vka_l_vid);
                    } else {
                        window.jQuery('#l_pr').find('.left_label.inl_bl').text(vka_config_default.vka_l_pr);
                        window.jQuery('#l_nwsf').find('.left_label.inl_bl').text(vka_config_default.vka_l_nwsf);
                        window.jQuery('#l_msg').find('.left_label.inl_bl').text(vka_config_default.vka_l_msg);
                        window.jQuery('#l_fr').find('.left_label.inl_bl').text(vka_config_default.vka_l_fr);
                        window.jQuery('#l_gr').find('.left_label.inl_bl').text(vka_config_default.vka_l_gr);
                        window.jQuery('#l_ph').find('.left_label.inl_bl').text(vka_config_default.vka_l_ph);
                        window.jQuery('#l_aud').find('.left_label.inl_bl').text(vka_config_default.vka_l_aud);
                        window.jQuery('#l_vid').find('.left_label.inl_bl').text(vka_config_default.vka_l_vid);
                    }
                break;

            case "custom_font":
                if (vka_config.custom_font == true){
                    if (vka_config.custom_font_type == "none" || vka_config.custom_font_css == "none"){
                        alert ('–ü—Ä–µ–∂–¥–µ —á–µ–º –≤–∫–ª—é—á–∏—Ç—å —à—Ä–∏—Ñ—Ç - –≤—Å—Ç–∞–≤—å—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å—Å—ã–ª–∫–∏ –≤ –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –±–ª–æ–∫ <link href="—Å—Å—ã–ª–∫–∞">');
                    } else {
                        window.jQuery("head").append(vka_config.custom_font_type);
                        window.jQuery('head').append('<style id="vka_custom_font"> *{' + vka_config.custom_font_css + '} </style>');
                    }
                } else {
                    vka_config.custom_font_type = "none";
                    vka_config.custom_font_css = "none";
                    if (window.jQuery('#vka_custom_font').length > 0){
                        window.jQuery('#vka_custom_font').remove();
                        location.reload();
                    }
                    //location.reload();
                }
                break;

            case "custom_font_type":
                break;

            case "custom_font_size":
                break;

                // ---------------------------------------------------- Patches
            case "unread":
                break;

            case "untype":
                break;

            case "unnotify":
                break;

            case "offline":
                break;

            case "full_offline":
                break;

            case "autolikes":
                break;

            case "antlers_exploit":
                break;

                // ---------------------------------------------------- Others

            case "rainbow_text":
                if (vka_config.rainbow_text == true){
                    window.jQuery('head').append('<style id="vka_rainbow_text">@keyframes colorRotate { from {color: rgb(255, 0, 0);} 16.6% { color: rgb(255, 0, 255);} 33.3% {color: rgb(0, 0, 255);} 50% {color: rgb(0, 255, 255);} 66.6% {color: rgb(0, 255, 0); } 83.3% {color: rgb(255, 255, 0);} to {color: rgb(255, 0, 0);}} a, span{animation: colorRotate 6s linear 0s infinite;}');
                } else {
                    window.jQuery('#vka_rainbow_text').remove();
                }
                    break;

            case "negative":
                if (vka_config.negative == true){
                    window.jQuery('head').append('<style id="vka_negative">:root {filter: negative(1) !important}</style>');
                } else {
                    window.jQuery('#vka_negative').remove();
                }
                // falls through
            case "negative_plus":
                if (vka_config.negative_plus == true){
                    window.jQuery('#vka_negative').text(':root {filter: invert(1) !important} img, a[aria-label="—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è"]{filter: invert(1) !important}');
                } else {
                    window.jQuery('#vka_negative').text(':root {filter: invert(1) !important}');
                }
                break;
            case "sepia":
                if (vka_config.sepia == true){
                    window.jQuery('head').append('<style id="vka_sepia">:root {filter: sepia(1) !important}</style>');
                } else {
                    window.jQuery('#vka_sepia').remove();
                }
                break;
            case "blury":
                if (vka_config.blury == true){
                    window.jQuery('head').append('<style id="vka_blury">:root {filter: blur(1px) !important}</style>');
                } else {
                    window.jQuery('#vka_blury').remove();
                }
                break;
            case "blackandwhite":
                if (vka_config.blackandwhite == true){
                    window.jQuery('head').append('<style id="vka_blackandwhite">:root {filter: grayscale(1) !important}</style>');
                } else {
                    window.jQuery('#vka_blackandwhite').remove();
                }
                break;

            case "letitsnow":
                if (vka_config.letitsnow == true || vka_config.letitsnow == null || vka_config.letitsnow == undefined){
                    window.jQuery('body').prepend('<div id="snow"></div>');
                    particlesJS("snow", {
                        "particles": {
                            "number": {
                                "value": 100,
                                "density": {
                                    "enable": true,
                                    "value_area": 800
                                }
                            },
                            "color": {
                                "value": "#ffffff"
                            },
                            "opacity": {
                                "value": 0.8,
                                "random": false,
                                "anim": {
                                    "enable": false
                                }
                            },
                            "size": {
                                "value": 5,
                                "random": true,
                                "anim": {
                                    "enable": false
                                }
                            },
                            "line_linked": {
                                "enable": false
                            },
                            "move": {
                                "enable": true,
                                "speed": 3,
                                "direction": "bottom",
                                "random": true,
                                "straight": false,
                                "out_mode": "out",
                                "bounce": false,
                                "attract": {
                                    "enable": true,
                                    "rotateX": 300,
                                    "rotateY": 1200
                                }
                            }
                        },
                        "interactivity": {
                            "events": {
                                "onhover": {
                                    "enable": false
                                },
                                "onclick": {
                                    "enable": false
                                },
                                "resize": false
                            }
                        },
                        "retina_detect": true
                    });
                } else {
                    window.jQuery('#vka_letitsnow').remove();
                    window.jQuery('#snow').remove();
                }
                break;

                // Development

            case "vka_resetti":
                if (window.confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ VKAntlers –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é?")) {
                    localStorage.removeItem("vka_config");
                    location.reload();
                };
                break;
            case "vka_dev":
                break;

            case "dev_msg":
                break;

            default:
                break;

        }
    }

    // –ü–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫ —Ä–∞–∑–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
    // –ó–¥–µ—Å—å –≤—Å–µ - –Ω–µ—á–∏—Ç–∞–ª–∫–∞, –Ω–µ–ø–∏—Å–∞–ª–∫–∞, –æ—Ñ—Ñ–ª–∞–π–Ω, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    (function(send){
        XMLHttpRequest.prototype.send = function(body) {
            // –ó–∞–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
            if (/act=a_send/.test(body) && vka_config.msg_changer == true) {
                var newstr = body.replace(/msg=/i, 'msg=' + vka_config.msg_changer_type + ' ');
                body = newstr;
            };
            // –ù–µ—á–∏—Ç–∞–ª–∫–∞
            if (/act=a_mark_read/.test(body) && vka_config.unread == true) {
                console.log("READ ABORTED!");
                XMLHttpRequest.abort();
            }
            // –ù–µ–ø–∏—Å–∞–ª–∫–∞
            if (/act=a_activity/.test(body) && /type=typing/.test(body) && vka_config.untype == true) {
                console.log("TYPING ABORTED!");
                XMLHttpRequest.abort();
            }
            // –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
            if (/act=a_clean_notify/.test(body) && vka_config.unnotify == true) {
                console.log("MARKED ABORTED!");
                XMLHttpRequest.abort();
            }
            // –ß–∞—Å—Ç–∏—á–Ω—ã–π –æ—Ñ—Ñ–ª–∞–π–Ω
            if ((/act=a_clean_notify/.test(body) || /act=a_activity/.test(body) || /type=typing/.test(body)
                 || /act=a_mark_read/.test(body) || /act=a_send/.test(body)) && vka_config.offline == true) {
                if (/act=a_send/.test(body)){
                    alert('–í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è —Å —á–∞—Å—Ç–∏—á–Ω—ã–º –æ—Ñ—Ñ–ª–∞–π–Ω–æ–º! –ß—Ç–æ–±—ã –æ—Ç–∫–ª—é—á–∏—Ç—å –µ–≥–æ - —Å–Ω–∏–º–∏—Ç–µ –≥–∞–ª–æ—á–∫—É –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö VKAntlers –≤ —Ä–∞–∑–¥–µ–ª–µ "–ü–∞—Ç—á–∏" —Å –ø—É–Ω–∫—Ç–∞ "–ß–∞—Å—Ç–∏—á–Ω—ã–π –æ—Ñ—Ñ–ª–∞–π–Ω"');
                };
                XMLHttpRequest.abort();
            }
            send.call(this, body);
        };
    })(XMLHttpRequest.prototype.send);

    // End of VKAntlers script! There is nothing next!
    // --------------------------------------------------------------------
